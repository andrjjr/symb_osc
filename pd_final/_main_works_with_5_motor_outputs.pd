#N canvas 1 43 1439 806 10;
#X obj 93 55 lop~ 100;
#X obj 166 54 lop~ 100;
#X obj 241 54 lop~ 100;
#X obj 22 55 lop~ 100;
#X obj 93 263 snapshot~;
#X obj 168 263 snapshot~;
#X obj 247 262 snapshot~;
#X obj 20 263 snapshot~;
#X obj 92 229 *~ 255;
#X obj 164 228 *~ 255;
#X obj 19 229 *~ 255;
#X obj 499 80 loadbang;
#X obj 22 20 adc~ 3 4 5 6 7 8, f 52;
#X obj 318 53 lop~ 100;
#X obj 393 53 lop~ 100;
#X obj 322 249 snapshot~;
#X obj 322 273 * 9990;
#X obj 322 295 + 20;
#X obj 322 317 s life;
#X floatatom 20 303 5 0 255 0 - - -, f 5;
#X text 62 302 center;
#X obj 20 377 send center_freq;
#X obj 20 325 expr 40*(1-$f1/255) + 200*($f1/255);
#X floatatom 20 348 5 0 0 0 - - -, f 5;
#X text 145 348 replaced scale with math. expression for compatibility
, f 31;
#X floatatom 394 302 5 0 255 1 gravity - -, f 5;
#X obj 393 391 abs;
#X obj 393 420 send gravity_mag;
#N canvas 978 187 450 300 drift_direction 0;
#X obj 39 25 inlet;
#X obj 39 91 > 0.5;
#X obj 95 91 < -1;
#X obj 168 91 >= -1;
#X obj 217 91 <= 0.5;
#X obj 39 47 t f f f f;
#X obj 191 145 &&;
#X obj 96 250 outlet;
#X obj 39 115 sel 1;
#X obj 95 114 sel 1;
#X obj 39 149 float 1;
#X obj 96 186 float -1;
#X obj 191 176 sel 1;
#X obj 191 198 float 0;
#X connect 0 0 5 0;
#X connect 1 0 8 0;
#X connect 2 0 9 0;
#X connect 3 0 6 0;
#X connect 4 0 6 1;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 5 2 3 0;
#X connect 5 3 4 0;
#X connect 6 0 12 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 7 0;
#X connect 11 0 7 0;
#X connect 12 0 13 0;
#X connect 13 0 7 0;
#X restore 523 381 pd drift_direction;
#X obj 394 335 expr -100*(1-$f1/255) + 100*($f1/255);
#X obj 523 407 send drift_direction;
#X floatatom 23 432 5 0 255 1 stretch - -, f 5;
#X obj 24 498 abs 0;
#X obj 24 468 expr -0.25*(1-$f1/255) + 0.25*($f1/255);
#X obj 105 498 expr 0.8*(1-$f1/255) + 1.2*($f1/255);
#X obj 178 542 send exponent;
#X obj 24 542 send stretch_abs;
#X floatatom 397 493 5 0 255 1 taste - -, f 5;
#X obj 397 549 send taste_raw_scaled;
#X text 545 487 whenever the overtones change \, the clicks are really
bad, f 29;
#X obj 394 363 ak.round;
#X obj 397 518 ak.round;
#X obj 935 36 receive gravity_mag;
#X obj 935 61 t b f;
#X obj 782 100 expr (0.002726405204711015*$f2) + (0.00011211730008719635*pow($f2
\, 2)) + (0.7474992616888515*$f1) - (0.25274739199860224*pow($f1 \,
2)) - (5.100864445054601*pow($f1 \, 3)) - 0.001773 + (0.0000005408160449449254*pow($f2
\, 3));
#X text 979 62 [Drift size] Relation between absolute gravity \, and
absolute stretch \, scaled between 0 and 1;
#X obj 781 221 receive stretch_abs;
#X obj 934 221 receive gravity_mag;
#X obj 934 250 t b f;
#X obj 780 294 expr 1.076606679135022*$f2 - 0.006708752151172304*pow($f2
\, 2) + 0.00007127543436653731*pow($f2 \, 3) + 2.4981759755230417*$f1
- 1358.1795672353812*pow($f1 \, 2) + 3603.3932449045255*pow($f1 \,
3) + 0.264784;
#X floatatom 782 178 5 0 0 0 - - -, f 5;
#X floatatom 780 358 5 0 0 0 - - -, f 5;
#X text 1079 219 [Drift probability] Relation between absolute gravity
\, and absolute stretch \, increasing gravity increases prob. while
increasing stretch decreses porbability;
#X obj 782 35 receive stretch_abs;
#X obj 830 177 s drift_size;
#X obj 830 358 s drift_probability;
#X obj 779 422 expr 0.01878648671084155*$f1 - 0.00001997870324983278*pow($f1
\, 2) + 0.0000008287364644307523*pow($f1 \, 3) - 0.013525;
#X obj 779 470 expr 0.7*(($f1+0.013525)/2.507598);
#X obj 779 496 clip 0 0.5;
#X obj 779 531 s sqr-mix;
#X floatatom 862 532 5 0 0 0 - - -, f 5;
#X obj 779 400 r taste_raw_scaled;
#X obj 499 107 metro 5;
#X floatatom 424 1179 5 0 0 0 - - -, f 5;
#N canvas 325 28 1115 792 load_txt_files 0;
#X msg 97 139 read scale_values.txt;
#X msg 89 188 read gates_1.txt;
#X msg 77 245 read 1-harmonic.txt;
#X msg 65 309 read 2-harmonic.txt;
#X msg 54 354 read 3-harmonic.txt;
#X msg 40 399 read 4-harmonic.txt;
#X msg 28 445 read 5-harmonic.txt;
#X msg 359 88 read scale_factors_up.txt;
#X obj 359 110 text define -k scale_factors_up;
#A set 1 \, 1.05946 \, 1.12246 \, 1.18921 \, 1.35992 \, 1.33484 \,
1.41492 \, 1.49831 \, 1.5874 \, 1.68179 \, 1.7818 \, 1.88749 \, 2;
#X msg 360 142 read scale_factors_down.txt;
#X obj 360 164 text define -k scale_factors_down;
#A set 1 \, 0.943874 \, 0.890899 \, 0.840896 \, 0.7937 \, 0.749153
\, 0.707107 \, 0.66742 \, 0.62996 \, 0.594604 \, 0.561231 \, 0.529732
\, 0.5;
#X msg 106 88 read numberHarmonics.txt;
#X obj 29 15 inlet;
#X obj 54 376 text define -k three-harmonic;
#A set 2 3 4 \, 2 4 5 \, 2 3 5 \, 3 6 4 \, 2 4 6 \, 3 5 7 \, 3 4 6
\, 3 4 7 \, 2 3 6 \, 2 4 8;
#X obj 40 421 text define -k four-harmonic;
#A set 2 3 4 5 \, 2 3 5 6 \, 2 3 4 6 \, 2 3 8 5 \, 3 5 7 6 \, 3 5 8
6 \, 3 4 7 6 \, 3 4 5 8 \, 4 6 8 3 \, 4 5 6 9;
#X obj 28 472 text define -k five-harmonic;
#A set 2 4 8 9 11 \, 2 4 6 7 9 \, 2 9 3 5 6 \, 3 5 8 11 13 \, 3 6 9
11 13 \, 2 3 5 6 12 \, 2 8 9 15 14 \, 4 6 8 9 14 \, 3 4 8 9 14 \, 5
7 8 10 13;
#X obj 65 331 text define -k two-harmonic;
#A set 5 6 \, 2 3 \, 3 4 \, 3 5 \, 2 4 \, 2 7 \, 2 6 \, 2 10 \, 4 5
\, 5 8;
#X obj 89 212 text define -k gates;
#A set 1 0 0 0 0 \, 0 1 0 0 0 \, 0 0 1 0 0 \, 0 0 0 1 0 \, 0 0 0 0
1;
#X obj 98 161 text define -k scale_values;
#A set 0 7 \, 7.5 30.5 \, 31 53.5 \, 54 77 \, 77.5 100;
#X obj 106 113 text define -k number-harmonics;
#A set 1 \, 2 \, 3 \, 4 \, 5;
#X obj 77 270 text define -k one-harmonic;
#A set 2.5 \, 2 \, 3 \, 4 \, 5 \, 6 \, 7 \, 8 \, 9 \, 1.5;
#X connect 0 0 18 0;
#X connect 1 0 17 0;
#X connect 2 0 20 0;
#X connect 3 0 16 0;
#X connect 4 0 13 0;
#X connect 5 0 14 0;
#X connect 6 0 15 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 11 0 19 0;
#X connect 12 0 6 0;
#X connect 12 0 5 0;
#X connect 12 0 4 0;
#X connect 12 0 3 0;
#X connect 12 0 2 0;
#X connect 12 0 1 0;
#X connect 12 0 0 0;
#X connect 12 0 11 0;
#X connect 12 0 7 0;
#X connect 12 0 9 0;
#X restore 405 713 pd load_txt_files;
#X text 403 733 reads all required text files on load;
#X obj 58 618 r taste_raw_scaled;
#X obj 58 678 t f f;
#X obj 90 712 expr 0.04285714277142857*$f1 + 0.190476;
#X floatatom 336 810 5 0 0 0 index - -, f 5;
#X floatatom 350 859 5 0 0 0 #_of_harmonics - -, f 5;
#X obj 90 906 text get scale_values;
#X obj 90 928 unpack f f;
#X floatatom 90 950 5 0 0 0 - - -, f 5;
#X floatatom 157 951 5 0 0 0 - - -, f 5;
#X obj 59 1021 expr 9.*(($f1 - $f2)/($f3 - $f2));
#X obj 90 969 t b f;
#X obj 157 970 t b f;
#X obj 167 1078 - 1;
#X obj 61 1400 s harmonic_combo;
#X obj 113 835 t f f;
#X floatatom 231 1180 5 0 0 0 - - -, f 5;
#X floatatom 278 1179 5 0 0 0 - - -, f 5;
#X floatatom 325 1178 5 0 0 0 - - -, f 5;
#X floatatom 376 1178 5 0 0 0 - - -, f 5;
#X obj 144 1216 spigot 0;
#X obj 229 1215 spigot 0;
#X obj 315 1215 spigot 0;
#X obj 401 1215 spigot 0;
#X obj 60 1216 spigot 1;
#X obj 90 734 int;
#X obj 59 1067 ak.round;
#X obj 113 810 text get number-harmonics;
#X obj 113 859 s number_harmonics;
#X obj 167 1050 r number_harmonics;
#X obj 167 1130 unpack f f f f f;
#X obj 90 766 t f f f;
#X obj 1036 669 r drift_probability;
#X floatatom 1137 693 5 0 0 0 - - -, f 5;
#N canvas 615 215 739 409 probability 0;
#X obj 57 38 inlet;
#X obj 119 38 inlet;
#X obj 57 84 random 100;
#X obj 57 106 < 100;
#X obj 57 128 sel 1 0;
#X obj 57 184 outlet;
#X obj 114 184 outlet;
#X text 175 33 probability object: left input takes a bang. Right input
gives percentage that that bang will be routed through Left outlet
, f 32;
#X connect 0 0 2 0;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X restore 941 810 pd probability;
#X obj 941 777 spigot 1;
#X obj 941 836 t b b;
#X obj 1030 868 int 0;
#X obj 941 890 s change;
#X obj 1030 836 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 1066 724 1;
#X text 1100 724 manual unlock;
#X obj 994 724 r unlock;
#X obj 994 746 int 1;
#X obj 941 670 metro 1000;
#X obj 941 748 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 994 951 r drift_size;
#X obj 994 980 expr 12.*($f1);
#X obj 994 1007 int;
#X floatatom 994 1036 5 0 0 0 - - -, f 5;
#X obj 941 908 r change;
#X obj 941 1037 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 941 1108 + 1;
#X obj 1160 1092 r drift_direction;
#X obj 1160 1117 sel 1 -1;
#X obj 1160 1157 t b b;
#X obj 1210 1158 t b b;
#X obj 1160 1198 int 1;
#X obj 1214 1198 int 0;
#X obj 1270 1198 int 1;
#X obj 1324 1198 int 0;
#X obj 957 1169 text get scale_factors_up;
#X obj 941 1198 text get scale_factors_down;
#X obj 957 1357 * 1;
#X obj 995 1332 r center_freq;
#X floatatom 1000 1391 5 0 0 0 - - -, f 5;
#X text 1291 1090 look at the drift direction \, determine whether
the possible next freq. is above or below the center, f 27;
#X text 995 1355 multiply the center freq * by the scale_factor \,
gives the new frequency it may jump to next;
#X text 1045 1390 this is the new dest freq. This is only calculated
and output if the probability to jump is triggered., f 34;
#X text 991 931 Calculation of next frequency \, in case a shift is
triggered;
#X obj 956 1481 line 0;
#X obj 956 1509 t f f;
#X floatatom 955 1688 5 0 0 0 - - -, f 5;
#X obj 988 1573 sel 1;
#X obj 988 1625 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 988 1544 == 0;
#X obj 956 1428 t f f;
#X obj 988 1657 s unlock;
#X obj 988 1600 t b b;
#X obj 1019 1627 int 0;
#X obj 955 1707 s drone_fundamental;
#X text 1036 1559 bc. [line] doesn't have an end-of-ramp bang built
in \, i need to check for this myself, f 23;
#X obj 941 1067 random 1;
#X obj 1074 1271 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1113 1271 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X obj 957 1271 spigot;
#X obj 1011 1270 spigot;
#X floatatom 983 1109 5 0 0 0 - - -, f 5;
#X msg 956 1454 \$1 200;
#X obj 872 580 loadbang;
#X obj 872 601 delay 2000;
#X obj 872 627 t b b;
#X obj 872 701 delay 1000;
#X obj 1048 609 r life;
#X floatatom 1005 611 5 0 0 0 - - -, f 5;
#X obj 449 207 send~ master_level;
#X obj 405 645 loadbang;
#X obj 2001 80 r number_harmonics;
#X obj 1809 81 r harmonic_combo;
#X obj 2033 184 sel 1 2 3 4 5;
#X obj 2033 219 t b b;
#X obj 2032 246 int 1;
#X obj 2078 246 int 0;
#X obj 2031 291 s gates_1;
#X obj 2102 290 s gates_2;
#X obj 2173 290 s gates_3;
#X obj 2242 290 s gates_4;
#X obj 2129 219 t b b;
#X obj 2128 246 int 1;
#X obj 2174 246 int 0;
#X obj 2222 218 t b b;
#X obj 2221 245 int 1;
#X obj 2267 245 int 0;
#X obj 2315 216 t b b;
#X obj 2314 243 int 1;
#X obj 2360 243 int 0;
#X obj 2411 217 t b b;
#X obj 2410 244 int 1;
#X obj 2456 244 int 0;
#X obj 2312 290 s gates_5;
#N canvas 0 23 778 551 gate_5 0;
#X obj 40 189 spigot 1;
#X obj 192 188 spigot 0;
#X obj 265 186 spigot 0;
#X obj 339 187 spigot 0;
#X obj 115 188 spigot 0;
#X obj 42 60 inlet;
#X obj 257 19 inlet;
#X obj 340 243 outlet;
#X obj 263 245 outlet;
#X obj 188 245 outlet;
#X obj 113 245 outlet;
#X obj 42 242 outlet;
#X obj 256 49 t f f f f f;
#X obj 206 99 == 1;
#X obj 248 99 == 2;
#X obj 290 99 == 3;
#X obj 331 99 == 4;
#X obj 374 99 == 5;
#X floatatom 411 144 5 0 0 0 - - -, f 5;
#X connect 0 0 11 0;
#X connect 1 0 9 0;
#X connect 2 0 8 0;
#X connect 3 0 7 0;
#X connect 4 0 10 0;
#X connect 5 0 0 0;
#X connect 5 0 4 0;
#X connect 5 0 1 0;
#X connect 5 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 12 0;
#X connect 12 0 17 0;
#X connect 12 1 16 0;
#X connect 12 2 15 0;
#X connect 12 3 14 0;
#X connect 12 4 13 0;
#X connect 13 0 0 1;
#X connect 14 0 4 1;
#X connect 15 0 1 1;
#X connect 16 0 2 1;
#X connect 17 0 3 1;
#X connect 17 0 18 0;
#X restore 1810 375 pd gate_5;
#X text 1888 377 self-made equivalent of [gate 5 1] in Max;
#X obj 1810 449 pow 1;
#X obj 1831 420 t b f;
#X obj 1810 511 * 1;
#X obj 1810 550 osc~ 20;
#X obj 1832 478 t b f;
#X obj 1810 604 *~ 1;
#X obj 1872 605 *~ 0;
#X obj 1954 547 r sqr-mix;
#X obj 1954 573 expr 1 - $f1;
#X obj 1810 642 +~;
#X obj 1810 664 *~ 0.5;
#X obj 1863 664 r gates_1;
#X obj 1810 744 *~ 1;
#X obj 1653 565 osc~ 20;
#X obj 1655 768 *~ 0.5;
#X obj 1694 733 r fund_scale;
#X obj 1708 808 r number_harmonics;
#N canvas 686 23 754 427 2-harm-dist 0;
#X obj 30 36 inlet;
#X obj 271 36 inlet;
#X obj 161 36 inlet;
#X obj 30 65 unpack f f;
#X obj 30 94 int;
#X obj 97 94 int;
#X obj 29 209 pow 1;
#X obj 96 208 pow 1;
#X obj 160 162 t b f;
#X obj 29 316 * 1;
#X obj 96 316 * 1;
#X obj 207 208 t b f;
#X obj 29 395 outlet;
#X obj 96 395 outlet;
#X floatatom 176 67 5 0 0 0 - - -, f 5;
#X floatatom 286 67 5 0 0 0 - - -, f 5;
#X floatatom 39 135 5 0 0 0 - - -, f 5;
#X floatatom 105 136 5 0 0 0 - - -, f 5;
#X floatatom 49 240 5 0 0 0 - - -, f 5;
#X floatatom 110 242 5 0 0 0 - - -, f 5;
#X floatatom 44 338 5 0 0 0 - - -, f 5;
#X floatatom 111 338 5 0 0 0 - - -, f 5;
#X connect 0 0 3 0;
#X connect 1 0 11 0;
#X connect 1 0 15 0;
#X connect 2 0 8 0;
#X connect 2 0 14 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 6 0;
#X connect 4 0 16 0;
#X connect 5 0 7 0;
#X connect 5 0 17 0;
#X connect 6 0 9 0;
#X connect 6 0 18 0;
#X connect 7 0 10 0;
#X connect 7 0 19 0;
#X connect 8 0 7 0;
#X connect 8 0 6 0;
#X connect 8 1 7 1;
#X connect 8 1 6 1;
#X connect 9 0 12 0;
#X connect 9 0 20 0;
#X connect 10 0 13 0;
#X connect 10 0 21 0;
#X connect 11 0 10 0;
#X connect 11 0 9 0;
#X connect 11 1 10 1;
#X connect 11 1 9 1;
#X restore 2081 546 pd 2-harm-dist;
#N canvas 908 162 492 500 2-sins 0;
#X obj 111 28 inlet;
#X obj 33 28 inlet;
#X obj 33 146 osc~ 20;
#X obj 111 146 osc~ 20;
#X obj 33 218 *~ 1;
#X obj 182 219 *~ 0;
#X obj 275 218 *~ 0;
#X obj 33 268 +~;
#X obj 111 218 *~ 1;
#X obj 111 268 +~;
#X obj 33 297 *~ 0.333;
#X obj 33 360 *~;
#X obj 111 360 *~;
#X text 240 303 substituting max's [gate~] \, for a faux gain gate
here which works like this: uses [*~] with an multiplier of '0' to
block the incoming signal and '1' to let it pass, f 30;
#X obj 153 323 r gates_2;
#X obj 33 388 outlet~;
#X obj 111 388 outlet~;
#X obj 386 105 r sqr-mix;
#X obj 386 170 expr 1 - $f1;
#X msg 33 50 \$1 20;
#X msg 111 50 \$1 20;
#X obj 33 72 line;
#X obj 111 72 line;
#X floatatom 223 432 5 0 0 0 - - -, f 5;
#X floatatom 405 135 5 0 0 0 - - -, f 5;
#X floatatom 386 213 5 0 0 0 - - -, f 5;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 269 145 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 178 145 pd square2~;
#X obj 111 297 *~ 0.333;
#X obj 253 38 loadbang;
#X obj 252 74 float 0.1;
#X connect 0 0 20 0;
#X connect 1 0 19 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 7 0;
#X connect 5 0 7 1;
#X connect 6 0 9 1;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 28 0;
#X connect 10 0 11 0;
#X connect 11 0 15 0;
#X connect 12 0 16 0;
#X connect 14 0 12 1;
#X connect 14 0 11 1;
#X connect 14 0 23 0;
#X connect 17 0 18 0;
#X connect 17 0 6 1;
#X connect 17 0 5 1;
#X connect 17 0 24 0;
#X connect 18 0 8 1;
#X connect 18 0 4 1;
#X connect 18 0 25 0;
#X connect 19 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 2 0;
#X connect 21 0 27 0;
#X connect 22 0 3 0;
#X connect 22 0 26 0;
#X connect 26 0 6 0;
#X connect 27 0 5 0;
#X connect 28 0 12 0;
#X connect 29 0 30 0;
#X connect 30 0 27 1;
#X connect 30 0 26 1;
#X restore 2081 575 pd 2-sins;
#N canvas 62 244 450 300 square~ 0;
#X obj 36 16 inlet;
#X obj 35 133 phasor~;
#X obj 106 133 phasor~;
#X obj 92 89 * -1;
#X msg 151 88 0;
#X msg 192 89 0.5;
#X obj 59 171 +~;
#X obj 59 193 -~ 1;
#X obj 59 229 outlet~;
#X obj 191 13 inlet;
#X text 236 13 phase synchronization;
#X text 80 17 fundamental;
#X obj 216 48 loadbang;
#X connect 0 0 3 0;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 6 1;
#X connect 3 0 2 0;
#X connect 4 0 1 1;
#X connect 5 0 2 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 5 0;
#X connect 9 0 4 0;
#X connect 12 0 5 0;
#X connect 12 0 4 0;
#X restore 1872 550 pd square~;
#N canvas 734 97 587 474 ak.selector5~ 0;
#X obj 291 26 inlet~;
#X obj 341 26 inlet~;
#X obj 393 26 inlet~;
#X obj 445 26 inlet~;
#X obj 241 26 inlet~;
#X obj 291 366 outlet~;
#X obj 252 258 +~;
#X obj 345 256 +~;
#X obj 291 297 +~;
#X obj 291 333 +~;
#X obj 26 30 inlet;
#X obj 27 78 t f f f f f;
#X obj 198 124 == 1;
#X obj 153 124 == 2;
#X obj 110 124 == 3;
#X obj 66 123 == 4;
#X obj 26 123 == 5;
#X floatatom 26 177 5 0 0 0 - - -, f 5;
#X floatatom 75 178 5 0 0 0 - - -, f 5;
#X floatatom 119 179 5 0 0 0 - - -, f 5;
#X floatatom 164 181 5 0 0 0 - - -, f 5;
#X floatatom 187 204 5 0 0 0 - - -, f 5;
#X obj 240 219 *~ 0;
#X obj 292 220 *~ 0;
#X obj 345 219 *~ 0;
#X obj 394 218 *~ 0;
#X obj 444 219 *~ 0;
#X obj 393 365 outlet~;
#X connect 0 0 23 0;
#X connect 1 0 24 0;
#X connect 2 0 25 0;
#X connect 3 0 26 0;
#X connect 4 0 22 0;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 10 0 11 0;
#X connect 11 0 16 0;
#X connect 11 1 15 0;
#X connect 11 2 14 0;
#X connect 11 3 13 0;
#X connect 11 4 12 0;
#X connect 12 0 21 0;
#X connect 12 0 22 1;
#X connect 13 0 20 0;
#X connect 13 0 23 1;
#X connect 14 0 19 0;
#X connect 14 0 24 1;
#X connect 15 0 18 0;
#X connect 15 0 25 1;
#X connect 16 0 17 0;
#X connect 16 0 26 1;
#X connect 22 0 6 0;
#X connect 22 0 27 0;
#X connect 23 0 6 1;
#X connect 23 0 27 0;
#X connect 24 0 7 0;
#X connect 24 0 27 0;
#X connect 25 0 7 1;
#X connect 25 0 27 0;
#X connect 26 0 9 1;
#X connect 26 0 27 0;
#X restore 1789 872 pd ak.selector5~;
#X obj 2081 607 *~ 1;
#X obj 2141 606 *~ 1;
#X obj 2081 647 +~;
#N canvas 638 176 450 300 3-harm-dist 0;
#X obj 30 36 inlet;
#X obj 255 36 inlet;
#X obj 208 36 inlet;
#X obj 208 98 t b f;
#X obj 255 144 t b f;
#X obj 30 70 unpack f f f;
#X obj 92 137 pow 1;
#X obj 165 137 pow 1;
#X obj 29 137 pow 1;
#X obj 29 197 * 1;
#X obj 92 197 * 1;
#X obj 165 197 * 1;
#X obj 29 230 outlet;
#X obj 92 230 outlet;
#X obj 165 230 outlet;
#X obj 30 92 int;
#X obj 70 93 int;
#X obj 112 93 int;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 3 0 6 0;
#X connect 3 0 8 0;
#X connect 3 1 7 1;
#X connect 3 1 6 1;
#X connect 3 1 8 1;
#X connect 4 0 11 0;
#X connect 4 0 10 0;
#X connect 4 0 9 0;
#X connect 4 1 11 1;
#X connect 4 1 10 1;
#X connect 4 1 9 1;
#X connect 5 0 15 0;
#X connect 5 1 16 0;
#X connect 5 2 17 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 14 0;
#X connect 15 0 8 0;
#X connect 16 0 6 0;
#X connect 17 0 7 0;
#X restore 2206 546 pd 3-harm-dist;
#N canvas 250 364 729 461 3-sins 0;
#X obj 30 23 inlet;
#X msg 30 45 \$1 20;
#X obj 30 135 osc~ 20;
#X obj 31 204 *~ 1;
#X obj 31 261 +~;
#X obj 31 293 *~ 0.25;
#X obj 32 382 *~ 0;
#X obj 93 22 inlet;
#X msg 93 44 \$1 20;
#X obj 93 134 osc~ 20;
#X obj 94 203 *~ 1;
#X obj 94 260 +~;
#X obj 94 292 *~ 0.25;
#X obj 95 381 *~ 0;
#X obj 165 21 inlet;
#X msg 165 43 \$1 20;
#X obj 165 133 osc~ 20;
#X obj 166 202 *~ 1;
#X obj 166 259 +~;
#X obj 166 291 *~ 0.25;
#X obj 167 380 *~ 0;
#X obj 30 67 line;
#X obj 93 66 line;
#X obj 165 65 line;
#X obj 260 203 *~ 0;
#X obj 349 204 *~ 0;
#X obj 440 204 *~ 0;
#X obj 541 133 r sqr-mix;
#X obj 541 155 expr 1 - $f1;
#X obj 192 330 r gates_3;
#X obj 32 404 outlet~;
#X obj 95 403 outlet~;
#X obj 167 402 outlet~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 351 133 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 444 132 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 251 133 pd square2~;
#X obj 422 38 loadbang;
#X obj 440 67 float 0.1;
#X connect 0 0 1 0;
#X connect 1 0 21 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 30 0;
#X connect 7 0 8 0;
#X connect 8 0 22 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 31 0;
#X connect 14 0 15 0;
#X connect 15 0 23 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 32 0;
#X connect 21 0 2 0;
#X connect 21 0 35 0;
#X connect 22 0 9 0;
#X connect 22 0 33 0;
#X connect 23 0 16 0;
#X connect 23 0 34 0;
#X connect 24 0 4 1;
#X connect 25 0 11 1;
#X connect 26 0 18 1;
#X connect 27 0 26 1;
#X connect 27 0 25 1;
#X connect 27 0 24 1;
#X connect 27 0 28 0;
#X connect 28 0 17 1;
#X connect 28 0 10 1;
#X connect 28 0 3 1;
#X connect 29 0 20 1;
#X connect 29 0 13 1;
#X connect 29 0 6 1;
#X connect 33 0 25 0;
#X connect 34 0 26 0;
#X connect 35 0 24 0;
#X connect 36 0 37 0;
#X connect 37 0 34 1;
#X connect 37 0 33 1;
#X connect 37 0 35 1;
#X restore 2206 575 pd 3-sins;
#X obj 2250 607 *~ 1;
#X obj 2291 607 *~ 1;
#X obj 2206 607 *~ 1;
#X obj 2206 635 +~;
#X obj 2206 668 +~;
#X obj 1810 705 *~;
#X text 1840 706 this is the [gate~];
#N canvas 308 194 450 300 4-harm-dist 0;
#X obj 33 28 inlet;
#X obj 33 50 unpack f f f f;
#X obj 33 180 pow 1;
#X obj 81 180 pow 1;
#X obj 131 180 pow 1;
#X obj 181 180 pow 1;
#X obj 33 251 * 1;
#X obj 81 251 * 1;
#X obj 131 251 * 1;
#X obj 181 251 * 1;
#X obj 33 273 outlet;
#X obj 81 273 outlet;
#X obj 131 273 outlet;
#X obj 181 273 outlet;
#X obj 232 74 t b f;
#X obj 232 25 inlet;
#X obj 313 25 inlet;
#X obj 312 124 t b f;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 1 3 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 13 0;
#X connect 14 0 5 0;
#X connect 14 0 4 0;
#X connect 14 0 3 0;
#X connect 14 0 2 0;
#X connect 14 1 5 1;
#X connect 14 1 4 1;
#X connect 14 1 3 1;
#X connect 14 1 2 1;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 9 0;
#X connect 17 0 8 0;
#X connect 17 0 7 0;
#X connect 17 0 6 0;
#X connect 17 1 9 1;
#X connect 17 1 8 1;
#X connect 17 1 7 1;
#X connect 17 1 6 1;
#X restore 2340 545 pd 4-harm-dist;
#N canvas 29 33 976 404 4-sins 0;
#X obj 26 26 inlet;
#X msg 26 48 \$1 20;
#X obj 26 70 line;
#X obj 26 127 osc~ 20;
#X obj 26 200 *~ 1;
#X obj 26 273 +~;
#X obj 26 295 *~ 0.25;
#X obj 26 362 *~ 0;
#X obj 26 384 outlet~;
#X obj 111 25 inlet;
#X msg 111 47 \$1 20;
#X obj 111 69 line;
#X obj 111 126 osc~ 20;
#X obj 111 199 *~ 1;
#X obj 111 272 +~;
#X obj 111 294 *~ 0.25;
#X obj 111 361 *~ 0;
#X obj 111 383 outlet~;
#X obj 191 24 inlet;
#X msg 191 46 \$1 20;
#X obj 191 68 line;
#X obj 191 125 osc~ 20;
#X obj 191 198 *~ 1;
#X obj 191 271 +~;
#X obj 191 293 *~ 0.25;
#X obj 191 360 *~ 0;
#X obj 191 382 outlet~;
#X obj 277 23 inlet;
#X msg 277 45 \$1 20;
#X obj 277 67 line;
#X obj 277 124 osc~ 20;
#X obj 277 197 *~ 1;
#X obj 277 270 +~;
#X obj 277 292 *~ 0.25;
#X obj 277 359 *~ 0;
#X obj 277 381 outlet~;
#X obj 355 197 *~ 0;
#X obj 443 197 *~ 0;
#X obj 531 197 *~ 0;
#X obj 615 197 *~ 0;
#X obj 728 123 r sqr-mix;
#X obj 728 145 expr 1.-$f1;
#X obj 302 320 r gates_4;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 443 124 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 533 124 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 623 123 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 354 124 pd square2~;
#X obj 498 27 loadbang;
#X obj 498 49 float 0.1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 46 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 0 43 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 0 44 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 0 45 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 5 1;
#X connect 37 0 14 1;
#X connect 38 0 23 1;
#X connect 39 0 32 1;
#X connect 40 0 39 1;
#X connect 40 0 38 1;
#X connect 40 0 37 1;
#X connect 40 0 36 1;
#X connect 40 0 41 0;
#X connect 41 0 31 1;
#X connect 41 0 22 1;
#X connect 41 0 13 1;
#X connect 41 0 4 1;
#X connect 42 0 34 1;
#X connect 42 0 25 1;
#X connect 42 0 16 1;
#X connect 42 0 7 1;
#X connect 43 0 37 0;
#X connect 44 0 38 0;
#X connect 45 0 39 0;
#X connect 46 0 36 0;
#X connect 47 0 48 0;
#X connect 48 0 46 1;
#X connect 48 0 43 1;
#X connect 48 0 44 1;
#X connect 48 0 45 1;
#X restore 2340 575 pd 4-sins;
#X obj 2386 608 *~ 1;
#X obj 2430 608 *~ 1;
#X obj 2477 608 *~ 1;
#X obj 2340 608 *~ 1;
#X obj 2340 639 +~;
#X obj 2430 639 +~;
#X obj 2340 670 +~;
#N canvas 770 187 450 300 5-harm-dist 0;
#X obj 33 28 inlet;
#X obj 33 127 pow 1;
#X obj 81 127 pow 1;
#X obj 131 127 pow 1;
#X obj 181 127 pow 1;
#X obj 33 198 * 1;
#X obj 81 198 * 1;
#X obj 131 198 * 1;
#X obj 181 198 * 1;
#X obj 33 220 outlet;
#X obj 81 220 outlet;
#X obj 131 220 outlet;
#X obj 181 220 outlet;
#X obj 310 74 t b f;
#X obj 310 25 inlet;
#X obj 391 25 inlet;
#X obj 390 124 t b f;
#X obj 33 50 unpack f f f f f;
#X obj 235 127 pow 1;
#X obj 235 199 * 1;
#X obj 235 221 outlet;
#X connect 0 0 17 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 13 0 4 0;
#X connect 13 0 3 0;
#X connect 13 0 2 0;
#X connect 13 0 1 0;
#X connect 13 0 18 0;
#X connect 13 1 4 1;
#X connect 13 1 3 1;
#X connect 13 1 2 1;
#X connect 13 1 1 1;
#X connect 13 1 18 1;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 16 0 8 0;
#X connect 16 0 7 0;
#X connect 16 0 6 0;
#X connect 16 0 5 0;
#X connect 16 0 19 0;
#X connect 16 1 8 1;
#X connect 16 1 7 1;
#X connect 16 1 6 1;
#X connect 16 1 5 1;
#X connect 16 1 19 1;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 3 0;
#X connect 17 3 4 0;
#X connect 17 4 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X restore 2526 544 pd 5-harm-dist;
#N canvas 253 28 1021 469 5-sins 0;
#X obj 26 26 inlet;
#X msg 26 48 \$1 20;
#X obj 26 70 line;
#X obj 26 127 osc~ 20;
#X obj 26 200 *~ 1;
#X obj 26 273 +~;
#X obj 26 295 *~ 0.25;
#X obj 26 362 *~ 0;
#X obj 26 384 outlet~;
#X obj 111 25 inlet;
#X msg 111 47 \$1 20;
#X obj 111 69 line;
#X obj 111 126 osc~ 20;
#X obj 111 199 *~ 1;
#X obj 111 272 +~;
#X obj 111 294 *~ 0.25;
#X obj 111 361 *~ 0;
#X obj 111 383 outlet~;
#X obj 191 24 inlet;
#X msg 191 46 \$1 20;
#X obj 191 68 line;
#X obj 191 125 osc~ 20;
#X obj 191 198 *~ 1;
#X obj 191 271 +~;
#X obj 191 293 *~ 0.25;
#X obj 191 360 *~ 0;
#X obj 191 382 outlet~;
#X obj 277 23 inlet;
#X msg 277 45 \$1 20;
#X obj 277 67 line;
#X obj 277 124 osc~ 20;
#X obj 277 197 *~ 1;
#X obj 277 270 +~;
#X obj 277 292 *~ 0.25;
#X obj 277 359 *~ 0;
#X obj 277 381 outlet~;
#X obj 454 196 *~ 0;
#X obj 542 196 *~ 0;
#X obj 630 196 *~ 0;
#X obj 714 196 *~ 0;
#X obj 933 128 r sqr-mix;
#X obj 933 150 expr 1.-$f1;
#X obj 386 23 inlet;
#X msg 386 45 \$1 20;
#X obj 386 67 line;
#X obj 386 124 osc~ 20;
#X obj 386 197 *~ 1;
#X obj 386 270 +~;
#X obj 386 292 *~ 0.25;
#X obj 386 359 *~ 0;
#X obj 386 381 outlet~;
#X obj 799 195 *~ 0;
#X obj 302 320 r gates_5;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 542 122 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 628 122 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 716 122 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 53 51 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 50 71 mtof;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 11 0 5 0;
#X restore 806 121 pd square2~;
#N canvas 117 189 573 451 square2~ 0;
#X obj 28 100 phasor~;
#X obj 28 254 expr~ $v1 > $v2;
#X floatatom 192 51 5 0 0 0 - - -, f 5;
#X obj 192 128 osc~;
#X obj 192 150 abs~;
#X text 235 50 pwm;
#X obj 191 10 inlet;
#X obj 28 17 inlet;
#X obj 28 318 outlet~;
#X obj 192 96 * 0.01;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 6 0 2 0;
#X connect 7 0 0 0;
#X connect 9 0 3 0;
#X restore 453 122 pd square2~;
#X obj 571 27 loadbang;
#X obj 571 49 float 0.1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 57 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 0 53 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 0 54 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 0 55 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 5 1;
#X connect 37 0 14 1;
#X connect 38 0 23 1;
#X connect 39 0 32 1;
#X connect 40 0 39 1;
#X connect 40 0 38 1;
#X connect 40 0 37 1;
#X connect 40 0 36 1;
#X connect 40 0 41 0;
#X connect 41 0 31 1;
#X connect 41 0 22 1;
#X connect 41 0 13 1;
#X connect 41 0 4 1;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 44 0 56 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 51 0 47 1;
#X connect 52 0 34 1;
#X connect 52 0 25 1;
#X connect 52 0 16 1;
#X connect 52 0 7 1;
#X connect 52 0 49 1;
#X connect 53 0 37 0;
#X connect 54 0 38 0;
#X connect 55 0 39 0;
#X connect 56 0 51 0;
#X connect 57 0 36 0;
#X connect 58 0 59 0;
#X connect 59 0 57 1;
#X connect 59 0 53 1;
#X connect 59 0 54 1;
#X connect 59 0 55 1;
#X connect 59 0 56 1;
#X restore 2526 574 pd 5-sins;
#X obj 2525 638 +~;
#X obj 2525 667 +~;
#X obj 2572 639 +~;
#X obj 2525 698 +~;
#X obj 1654 931 +~;
#X obj 2332 341 r exponent;
#X obj 2485 358 r drone_fundamental;
#X msg 1653 464 \$1 20;
#X obj 1653 491 line;
#X floatatom 2544 403 5 0 0 0 - - -, f 5;
#X floatatom 2367 364 5 0 0 0 - - -, f 5;
#X floatatom 2235 832 5 0 255 0 cf - -, f 5;
#X floatatom 2236 876 5 0 255 0 gravity - -, f 5;
#X floatatom 2235 919 5 0 255 0 stretch - -, f 5;
#X floatatom 2231 960 5 0 255 0 taste - -, f 5;
#X text 2231 811 CONTROL PANEL;
#X obj 2235 938 send s_c;
#X obj 2234 980 send taste_c;
#X obj 2236 895 send grav_c;
#X obj 2235 851 send cf_c;
#X obj 2528 607 *~ 1;
#X obj 2560 607 *~ 1;
#X obj 2597 607 *~ 1;
#X obj 2632 607 *~ 1;
#X obj 2667 606 *~ 1;
#X obj 1902 495 loadbang;
#X obj 1902 517 float 0.1;
#X obj 2001 122 change;
#X obj 167 1102 text get gates;
#X obj 2001 144 t f f;
#X obj 1672 970 receive~ master_level;
#X obj 1654 1011 *~;
#X obj 60 1278 text get one-harmonic;
#X obj 145 1313 text get two-harmonic;
#X obj 229 1278 text get three-harmonic;
#X obj 315 1312 text get four-harmonic;
#X obj 401 1277 text get five-harmonic;
#X obj 22 113 clip~ 0 1;
#X obj 96 139 clip~ 0 1;
#X obj 168 156 clip~ 0 1;
#X obj 244 181 clip~ 0 1;
#X obj 321 106 clip~ 0 1;
#X obj 427 179 clip~ 0 1;
#X obj 239 225 *~ 100;
#X obj 22 86 expr~ ($v1 - 0.002)/0.8;
#X obj 96 112 expr~ ($v1 - 0.002)/0.8;
#X obj 168 135 expr~ ($v1 - 0.002)/0.8;
#X obj 244 160 expr~ ($v1 - 0.002)/0.8;
#X obj 321 85 expr~ ($v1 - 0.002)/0.8;
#X obj 427 158 expr~ ($v1 - 0.002)/0.8;
#X obj 454 251 dac~ 27 28 29 30;
#X obj 1836 1101 expr~ 0.3*(1-$v1) + $v1;
#X obj 1913 1072 expr~ 0.3*(1-$v1) + $v1;
#X obj 2015 1103 expr~ 0.3*(1-$v1) + $v1;
#X obj 1732 1077 expr~ 0.3*(1-$v1) + $v1;
#X obj 1654 1172 dac~ 1 2 3 4 5 6 7;
#X obj 2187 1103 expr~ 0.3*(1-$v1) + $v1;
#X obj 2137 1013 osc~ 1;
#X connect 0 0 276 0;
#X connect 1 0 277 0;
#X connect 2 0 278 0;
#X connect 3 0 275 0;
#X connect 4 0 25 0;
#X connect 5 0 31 0;
#X connect 6 0 37 0;
#X connect 7 0 19 0;
#X connect 8 0 4 0;
#X connect 9 0 5 0;
#X connect 10 0 7 0;
#X connect 11 0 62 0;
#X connect 12 0 3 0;
#X connect 12 1 0 0;
#X connect 12 2 1 0;
#X connect 12 3 2 0;
#X connect 12 4 13 0;
#X connect 12 5 14 0;
#X connect 13 0 279 0;
#X connect 14 0 280 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X connect 25 0 29 0;
#X connect 26 0 27 0;
#X connect 28 0 30 0;
#X connect 29 0 28 0;
#X connect 29 0 40 0;
#X connect 31 0 33 0;
#X connect 31 0 34 0;
#X connect 32 0 36 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 37 0 41 0;
#X connect 40 0 26 0;
#X connect 41 0 38 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 43 1 44 1;
#X connect 44 0 50 0;
#X connect 44 0 54 0;
#X connect 46 0 49 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 48 1 49 1;
#X connect 49 0 51 0;
#X connect 49 0 55 0;
#X connect 53 0 44 0;
#X connect 56 0 57 0;
#X connect 57 0 58 0;
#X connect 58 0 59 0;
#X connect 58 0 60 0;
#X connect 61 0 56 0;
#X connect 62 0 7 0;
#X connect 62 0 4 0;
#X connect 62 0 5 0;
#X connect 62 0 6 0;
#X connect 62 0 15 0;
#X connect 66 0 67 0;
#X connect 67 0 75 0;
#X connect 67 1 68 0;
#X connect 68 0 90 0;
#X connect 71 0 72 0;
#X connect 72 0 73 0;
#X connect 72 1 74 0;
#X connect 73 0 76 0;
#X connect 74 0 77 0;
#X connect 75 0 91 0;
#X connect 76 0 75 0;
#X connect 76 1 75 1;
#X connect 77 0 75 0;
#X connect 77 1 75 2;
#X connect 78 0 259 0;
#X connect 80 0 93 0;
#X connect 80 1 70 0;
#X connect 85 0 264 0;
#X connect 86 0 265 0;
#X connect 87 0 266 0;
#X connect 88 0 267 0;
#X connect 89 0 263 0;
#X connect 90 0 96 0;
#X connect 91 0 89 0;
#X connect 91 0 85 0;
#X connect 91 0 86 0;
#X connect 91 0 87 0;
#X connect 91 0 88 0;
#X connect 92 0 80 0;
#X connect 94 0 78 0;
#X connect 95 0 81 0;
#X connect 95 0 89 1;
#X connect 95 1 82 0;
#X connect 95 1 85 1;
#X connect 95 2 83 0;
#X connect 95 2 86 1;
#X connect 95 3 84 0;
#X connect 95 3 87 1;
#X connect 95 4 88 1;
#X connect 95 4 63 0;
#X connect 96 0 71 0;
#X connect 96 1 92 0;
#X connect 96 2 69 0;
#X connect 97 0 98 0;
#X connect 97 0 99 1;
#X connect 99 0 101 0;
#X connect 99 0 104 0;
#X connect 100 0 99 0;
#X connect 101 0 103 0;
#X connect 101 1 102 0;
#X connect 102 0 100 1;
#X connect 105 0 100 1;
#X connect 107 0 108 0;
#X connect 108 0 100 1;
#X connect 109 0 110 0;
#X connect 110 0 100 0;
#X connect 111 0 112 0;
#X connect 112 0 113 0;
#X connect 113 0 114 0;
#X connect 114 0 147 1;
#X connect 115 0 116 0;
#X connect 116 0 147 0;
#X connect 117 0 126 0;
#X connect 117 0 127 0;
#X connect 118 0 119 0;
#X connect 119 0 120 0;
#X connect 119 1 121 0;
#X connect 120 0 122 0;
#X connect 120 1 123 0;
#X connect 121 0 124 0;
#X connect 121 1 125 0;
#X connect 122 0 148 0;
#X connect 122 0 150 1;
#X connect 123 0 149 0;
#X connect 123 0 151 1;
#X connect 124 0 149 0;
#X connect 124 0 151 1;
#X connect 125 0 148 0;
#X connect 125 0 150 1;
#X connect 126 0 150 0;
#X connect 127 0 151 0;
#X connect 128 0 130 0;
#X connect 128 0 141 0;
#X connect 129 0 128 1;
#X connect 135 0 136 0;
#X connect 136 0 137 0;
#X connect 136 1 140 0;
#X connect 137 0 145 0;
#X connect 138 0 143 0;
#X connect 139 0 142 0;
#X connect 140 0 138 0;
#X connect 141 0 153 0;
#X connect 141 1 140 1;
#X connect 143 0 139 0;
#X connect 143 1 144 0;
#X connect 144 0 140 1;
#X connect 147 0 117 0;
#X connect 147 0 152 0;
#X connect 150 0 128 0;
#X connect 151 0 128 0;
#X connect 153 0 135 0;
#X connect 154 0 155 0;
#X connect 155 0 156 0;
#X connect 156 0 157 0;
#X connect 156 1 109 0;
#X connect 157 0 105 0;
#X connect 159 0 109 1;
#X connect 161 0 64 0;
#X connect 162 0 258 0;
#X connect 163 0 185 0;
#X connect 164 0 165 0;
#X connect 164 1 172 0;
#X connect 164 2 175 0;
#X connect 164 3 178 0;
#X connect 164 4 181 0;
#X connect 165 0 166 0;
#X connect 165 1 167 0;
#X connect 166 0 168 0;
#X connect 167 0 169 0;
#X connect 167 0 170 0;
#X connect 167 0 171 0;
#X connect 167 0 184 0;
#X connect 172 0 173 0;
#X connect 172 1 174 0;
#X connect 173 0 169 0;
#X connect 174 0 168 0;
#X connect 174 0 170 0;
#X connect 174 0 171 0;
#X connect 174 0 184 0;
#X connect 175 0 176 0;
#X connect 175 1 177 0;
#X connect 176 0 170 0;
#X connect 177 0 168 0;
#X connect 177 0 169 0;
#X connect 177 0 171 0;
#X connect 177 0 184 0;
#X connect 178 0 179 0;
#X connect 178 1 180 0;
#X connect 179 0 171 0;
#X connect 180 0 169 0;
#X connect 180 0 168 0;
#X connect 180 0 184 0;
#X connect 180 0 170 0;
#X connect 181 0 182 0;
#X connect 181 1 183 0;
#X connect 182 0 184 0;
#X connect 183 0 171 0;
#X connect 183 0 170 0;
#X connect 183 0 169 0;
#X connect 183 0 168 0;
#X connect 185 0 187 0;
#X connect 185 1 204 0;
#X connect 185 2 211 0;
#X connect 185 3 220 0;
#X connect 185 4 229 0;
#X connect 187 0 189 0;
#X connect 188 0 187 0;
#X connect 188 1 187 1;
#X connect 189 0 190 0;
#X connect 189 0 206 0;
#X connect 190 0 192 0;
#X connect 191 0 189 0;
#X connect 191 1 189 1;
#X connect 192 0 196 0;
#X connect 193 0 196 1;
#X connect 194 0 195 0;
#X connect 194 0 193 1;
#X connect 195 0 192 1;
#X connect 196 0 197 0;
#X connect 197 0 218 0;
#X connect 198 0 218 1;
#X connect 199 0 207 1;
#X connect 200 0 201 0;
#X connect 201 0 235 0;
#X connect 202 0 201 1;
#X connect 203 0 207 0;
#X connect 204 0 205 0;
#X connect 204 1 205 1;
#X connect 205 0 208 0;
#X connect 205 1 209 0;
#X connect 206 0 193 0;
#X connect 207 1 235 1;
#X connect 208 0 210 0;
#X connect 209 0 210 1;
#X connect 210 0 207 2;
#X connect 211 0 212 0;
#X connect 211 1 212 1;
#X connect 211 2 212 2;
#X connect 212 0 215 0;
#X connect 212 1 213 0;
#X connect 212 2 214 0;
#X connect 213 0 216 1;
#X connect 214 0 217 1;
#X connect 215 0 216 0;
#X connect 216 0 217 0;
#X connect 217 0 207 3;
#X connect 218 0 199 0;
#X connect 220 0 221 0;
#X connect 220 1 221 1;
#X connect 220 2 221 2;
#X connect 220 3 221 3;
#X connect 221 0 225 0;
#X connect 221 1 222 0;
#X connect 221 2 223 0;
#X connect 221 3 224 0;
#X connect 222 0 226 1;
#X connect 223 0 227 0;
#X connect 224 0 227 1;
#X connect 225 0 226 0;
#X connect 226 0 228 0;
#X connect 227 0 228 1;
#X connect 228 0 207 4;
#X connect 229 0 230 0;
#X connect 229 1 230 1;
#X connect 229 2 230 2;
#X connect 229 3 230 3;
#X connect 229 4 230 4;
#X connect 230 0 251 0;
#X connect 230 1 252 0;
#X connect 230 2 253 0;
#X connect 230 3 254 0;
#X connect 230 4 255 0;
#X connect 231 0 232 0;
#X connect 232 0 234 0;
#X connect 233 0 232 1;
#X connect 234 0 207 5;
#X connect 235 0 262 0;
#X connect 236 0 188 0;
#X connect 236 0 204 1;
#X connect 236 0 211 1;
#X connect 236 0 220 1;
#X connect 236 0 229 1;
#X connect 236 0 241 0;
#X connect 237 0 229 2;
#X connect 237 0 220 2;
#X connect 237 0 211 2;
#X connect 237 0 204 2;
#X connect 237 0 191 0;
#X connect 237 0 238 0;
#X connect 237 0 240 0;
#X connect 238 0 239 0;
#X connect 239 0 200 0;
#X connect 242 0 250 0;
#X connect 243 0 249 0;
#X connect 244 0 247 0;
#X connect 245 0 248 0;
#X connect 251 0 231 0;
#X connect 252 0 231 1;
#X connect 253 0 233 0;
#X connect 254 0 233 1;
#X connect 255 0 234 1;
#X connect 256 0 257 0;
#X connect 257 0 206 1;
#X connect 258 0 260 0;
#X connect 259 0 95 0;
#X connect 260 0 185 1;
#X connect 260 1 164 0;
#X connect 261 0 262 1;
#X connect 262 0 286 0;
#X connect 262 0 286 1;
#X connect 263 0 79 0;
#X connect 264 0 79 0;
#X connect 265 0 79 0;
#X connect 266 0 79 0;
#X connect 267 0 79 0;
#X connect 268 0 10 0;
#X connect 268 0 281 0;
#X connect 268 0 285 0;
#X connect 269 0 8 0;
#X connect 269 0 281 1;
#X connect 269 0 282 0;
#X connect 270 0 9 0;
#X connect 270 0 281 2;
#X connect 270 0 283 0;
#X connect 271 0 274 0;
#X connect 271 0 281 3;
#X connect 271 0 284 0;
#X connect 272 0 15 0;
#X connect 273 0 160 0;
#X connect 273 0 288 0;
#X connect 274 0 6 0;
#X connect 275 0 268 0;
#X connect 276 0 269 0;
#X connect 277 0 270 0;
#X connect 278 0 271 0;
#X connect 279 0 272 0;
#X connect 280 0 273 0;
#X connect 282 0 286 3;
#X connect 283 0 286 4;
#X connect 284 0 286 5;
#X connect 285 0 286 2;
#X connect 287 0 286 6;
#X connect 288 0 287 0;
